DP.define(function(){function i(c){for(var c=c.replace(k,e),a='var o="";',d,j,f,g=0,b="begin",h=l,i=m;null!==(d=i.exec(c));)f=d[0],j=d[1]||d[2],d.index>g&&0<d.index&&(a+=h[b].addString+c.substring(g,d.index).replace(/"/g,'\\"'),b="string"),0===f.indexOf("<?js")?(a+=h[b].addCode+j,/\)$/.test(f)&&(a+=";"),b="code"):0===f.indexOf("@{")&&(a+=h[b].addParam+j,b="param"),g=d.index+f.length;g<c.length&&(a+=h[b].addString+c.substring(g).replace(/"/g,'\\"'),b="string");a+=h[b].end+"return o;";return new Function("it",
a)}var k=/[\t\r\n]/g,e="",m=/<\?js(.+?)\?>|@\{(.+?)\}/g,l={begin:{addString:'o+="',addCode:e,addParam:"o+=",end:e},string:{addString:e,addCode:'";',addParam:'"+',end:'";'},code:{addString:'o+="',addCode:e,addParam:"o+=",end:e},param:{addString:'+"',addCode:";",addParam:"+",end:";"}};return{render:function(c,a){return i(c)(a)},parse:i}});
